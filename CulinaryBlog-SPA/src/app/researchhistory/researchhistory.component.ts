import { ModulesService } from './../_services/modules.service';
import { Component, OnInit } from '@angular/core';
import { ResearchService } from '../_services/research.service';

@Component({
  selector: 'app-researchhistory',
  templateUrl: './researchhistory.component.html',
  styleUrls: ['./researchhistory.component.css']
})
export class ResearchhistoryComponent implements OnInit {

  constructor(private researchService:ResearchService, private moduleService :ModulesService) { }

  outcome : any; 
  malware: any;
  module:any;

  allModules:any;
  ngOnInit() {
      this.getAllModules();
  }

  responsDelivered()
  {
    if(this.outcome!=null)return true;
    else return false;
  }
  getOutcome()
  {
   //console.log(this.malware._id +"   "+this.module.name);
     
    this.researchService.getResearchHistory(this.malware._id, "iat").subscribe(res=>
      {this.outcome=res;});


     

  }

  setMalware(malware:any){
    this.malware=malware;
  }
  setModule(module:any){
    console.log(module.name);
    this.module=module;
  }

  getAllModules()
  {
   
    this.moduleService.getModules().subscribe(res => {this.allModules = res["modules"]; this.module=res["modules"][0]});
    
  }

  



}
